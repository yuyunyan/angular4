<div class="container-fluid parentMargin">
  <div class="top-header no-id-row">
    <div class="row">
      <div class="col-sm-8">
        <button type="button" id="btnRfqDocuments" class="btn-details btn-affirm" (click)="documentsClick()">
          <i class=" fas fa-file-alt" aria-hidden="true"></i>&ensp;Documents ({{documentCount}})
        </button>
      </div>
    </div>
  </div>
  <div class="scrolling-content">
    <div widget class="card" *ngxPermissionsOnly="['CanEditLines27', 'CanView27']">
      <div class="card-header">
        <span>Details</span>
        <div class="widget-controls">
          <a data-widgster="expand" class="transition"><i class="fas fa-chevron-down"></i></a>
          <a data-widgster="collapse" href="#" class="transition"><i class="fas fa-chevron-up"></i></a>
          <a data-widgster="fullscreen" href="#" class="transition"><i class="fas fa-expand-arrows-alt"></i></a>
          <a data-widgster="restore" href="#" class="transition"><i class="fas fa-compress"></i></a>
        </div>
      </div>
      <div class="card-block widget-body">
        <az-rfq-details-header [rfqPermissions]="rfqPermissions" [rfqId]="rfqId" (newRfqId)="onNewRfqAdded($event)"
          (currencyId)="onCurrencyIdReturned($event)" (documentCount)="documentCountChanged($event)">
        </az-rfq-details-header>
      </div>
    </div>
    <br />
    <div *ngIf="rfqId">
      <div widget class="card partsContainer" *ngxPermissionsOnly="['CanEditLines27', 'CanView27']">
        <div class="card-header">
          <span>Parts</span>
          <div class="widget-controls">
            <a data-widgster="expand" class="transition"><i class="fas fa-chevron-down"></i></a>
            <a data-widgster="collapse" href="#" class="transition"><i class="fas fa-chevron-up"></i></a>
            <a data-widgster="fullscreen" href="#" class="transition"><i class="fas fa-expand-arrows-alt"></i></a>
            <a data-widgster="restore" href="#" class="transition"><i class="fas fa-compress"></i></a>
          </div>
        </div>
        <div class="card-block widget-body">
          <az-rfq-lines [rfqId]="rfqId" [currencyId]='currencyId' (onRfqLineIdChanged)="onRfqLineIdChanged($event)"></az-rfq-lines>
        </div>
      </div>
    </div>
    <br />
    <div *ngIf="rfqId">
      <div widget class="card partsRFQContainer" *ngxPermissionsOnly="['CanEditLines27', 'CanView27']">
        <div class="card-header">
          <span>Responses</span>
          <div class="widget-controls">
            <a data-widgster="expand" class="transition"><i class="fas fa-chevron-down"></i></a>
            <a data-widgster="collapse" href="#" class="transition"><i class="fas fa-chevron-up"></i></a>
            <a data-widgster="fullscreen" href="#" class="transition"><i class="fas fa-expand-arrows-alt"></i></a>
            <a data-widgster="restore" href="#" class="transition"><i class="fas fa-compress"></i></a>
          </div>
        </div>
        <div class="card-block widget-body purchase-order-parts-group">
          <!-- <vertical-split-pane secondary-component-minsize="200" primary-component-initialratio="0.8">
                        <div class="split-pane-content-primary"> -->
          <az-rfq-responses [rfqLineId]="rfqLineId" [partNumber]="rfqLinePartNumber" [manufacturer]="rfqLineManufacturer"
            [itemId]="rfqLineItemId" (onRowClicked)="onResponseClicked($event)" (objectInfo)="onObjectInfoChanged($event)">
          </az-rfq-responses>
          <!-- </div>
                        <div class="split-pane-content-secondary">
                            <az-comments
                                [objectId]="sourcesJoinCommentUId"
                                [objectTypeId]="sourcesJoinObjectTypeId"
                                [objectInfo]="selectedResponseInfo"
                                (onCommentSaved)="onResponseCommentSaved()">
                            </az-comments>
                        </div>
                    </vertical-split-pane> -->
        </div>
      </div>
    </div>
    <br />
    <div *ngIf="rfqId">
      <div widget class="card" *ngxPermissionsOnly="['CanEditLines27', 'CanView27']">
        <div class="card-header">
          <span>Comments</span>
          <div class="widget-controls">
            <a data-widgster="expand" class="transition"><i class="fas fa-chevron-down"></i></a>
            <a data-widgster="collapse" href="#" class="transition"><i class="fas fa-chevron-up"></i></a>
            <a data-widgster="fullscreen" href="#" class="transition"><i class="fas fa-expand-arrows-alt"></i></a>
            <a data-widgster="restore" href="#" class="transition"><i class="fas fa-compress"></i></a>
          </div>
        </div>
        <div class="card-block widget-body purchase-order-parts-group">
          <az-comments-full [objectId]="rfqId" [objectTypeId]="rfqObjectTypeId" [commentTypeMap]="rfqCommentTypeMap">
          </az-comments-full>
        </div>
      </div>
    </div>
  </div>
</div>
